Here's how AWC work, when you recruit a new soldier with AWC already built, the game rolls a hidden ability with a specific rank requirements for that soldier; or when you built AWC, it rolls for all your existing soldiers; Then this part starts to cause problems, those hidden abilities only get revealed when your soldier lands on EXACTLY the required rank of the hidden ability (this is not the rank of when you get the ability for the original class, just a random number generated by AWC), so if the required rank is lower than the soldier's current rank, tough luck, the soldier has lost his opportunity to get a bonus perk FOREVER, unless you rebuild AWC but it rerolls everyone's perk so it's not ideal either, this fix change the requirement to be exactly on the rank to higher or equal to the required rank, so even if AWC rolls a lower number than the rank, you still get the perk, I am not sure if this design is intended or not so I don't know if the game is balance towards this behaviour or the default behaviour, so use at your own risk.